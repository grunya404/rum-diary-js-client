!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);throw new Error("Cannot find module '"+g+"'")}var j=c[g]={exports:{}};b[g][0].call(j.exports,function(a){var c=b[g][1][a];return e(c?c:a)},j,j.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){!function(a){a(function(a,b,c){"use strict";function d(a){var b=[].slice.call(arguments,1),c=function(){return a.apply(null,b.concat([].slice.call(arguments)))};return c}function e(){var a;return window.XMLHttpRequest?a=new window.XMLHttpRequest:window.ActiveXObject&&(a=new window.ActiveXObject("Microsoft.XMLHTTP")),a}function f(){}function g(a,b){try{4===a.readyState&&(a.onreadystatechange=f,b&&b(a.responseText,a.status,a.statusText))}catch(c){}}function h(a){var b=[],c="";for(var d in a)"undefined"!=typeof a[d]&&b.push(encodeURIComponent(d)+"="+encodeURIComponent(a[d]));return b&&b.length&&(c=b.join("&")),c}function i(a,b){var c={"X-Requested-With":"XMLHttpRequest",Accept:"application/json;text/plain"};for(var d in a)c[d]=a[d];for(var e in c)b.setRequestHeader(e,c[e])}function j(a,b,c){var d=h(c);return"GET"===b&&d&&(a+="?"+d),a}function k(a,b,c){var d;if("GET"!==b&&c)switch(a){case"application/json":d="string"==typeof c?c:JSON.stringify(c);break;case"application/x-www-form-urlencoded":d=h(c)}return d||null}function l(a,b,c){var f=e();if(!f)throw"could not get XHR object";f.onreadystatechange=d(g,f,b);var h=(a.type||"GET").toUpperCase(),l=a.contentType||"application/x-www-form-urlencoded",m=j(a.url,h,a.data);c=k(l,h,a.data),f.open(h,m,!0);var n={"Content-type":l};for(var o in a.headers)n[o]=a.headers[o];return i(n,f),f.send(c),f}var m={ajax:function(a){var b=a.error,c=a.success,d={readyState:0},e=l(a,function(a,e,f){if(d.status=e,d.responseText=a,d.statusText||(d.statusText=0!==e?f:"error"),d.readyState=4,e>=200&&300>e||304===e){var g=a;try{g=JSON.parse(a)}catch(h){}c&&c(g,a,d)}else b&&b(d,e,a)});return d.abort=function(){d.statusText="aborted",e.abort()},d}};c.exports=m})}(function(d,e){return"function"==typeof define&&define.amd?define:"object"==typeof b?function(d){d(a,c,b)}:function(a){var b={exports:{}},c=function(a){return e[a]};e[d]=a(c,b.exports,b)||b.exports}}("Micrajax",this))},{}],2:[function(a,b,c){!function(a){a(function(a,b,c,d){"use strict";function e(a){if(Object.create)return Object.create(a);var b=function(){};return b.prototype=a,new b}function f(){return(new Date).getTime()}function g(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=16*Math.random()|0,c="x"===a?b:3&b|8;return c.toString(16)})}var h,i={init:function(a){a=a||{},this.navigationTiming=e(l),this.navigationTiming.init(a),this.baseTime=this.navigationTiming.get().navigationStart||f(),this.timers=e(m),this.timers.init({baseTime:this.baseTime}),this.events=e(n),this.events.init({baseTime:this.baseTime}),this.uuid=g(),this.tags=a.tags||[];try{this.returning=!!localStorage.getItem("_st"),localStorage.setItem("_st","1")}catch(b){}},getLoad:function(){var a;try{a=sessionStorage.getItem("_puuid"),sessionStorage.removeItem("_puuid")}catch(b){}return{uuid:this.uuid,puuid:a,navigationTiming:this.navigationTiming.diff(),referrer:document.referrer||"",tags:this.tags,returning:this.returning,screen:{width:window.screen.width,height:window.screen.height}}},getUnload:function(){try{sessionStorage.setItem("_puuid",this.uuid)}catch(a){}return{uuid:this.uuid,duration:f()-this.baseTime,timers:this.timers.get(),events:this.events.get()}}},j={navigationStart:d,unloadEventStart:d,unloadEventEnd:d,redirectStart:d,redirectEnd:d,fetchStart:d,domainLookupStart:d,domainLookupEnd:d,connectStart:d,connectEnd:d,secureConnectionStart:d,requestStart:d,responseStart:d,responseEnd:d,domLoading:d,domInteractive:d,domContentLoadedEventStart:d,domContentLoadedEventEnd:d,domComplete:d,loadEventStart:d,loadEventEnd:d};try{h=window.performance.timing}catch(k){h=e(j)}var l={init:function(a){a=a||{},this.navigationTiming=a.navigationTiming||h,this.baseTime=this.navigationTiming.navigationStart||f()},get:function(){return this.navigationTiming},diff:function(){var a={},b=this.baseTime;for(var c in j)a[c]=this.navigationTiming[c]?this.navigationTiming[c]-b:null;return a}},m={init:function(a){this.completed={},this.running={},this.baseTime=a.baseTime},start:function(a){var b=f();if(this.running[a])throw new Error(a+" timer already started");this.running[a]=b},stop:function(a){var b=f();if(!this.running[a])throw new Error(a+" timer not started");this.completed[a]||(this.completed[a]=[]);var c=this.running[a];this.completed[a].push({start:c-this.baseTime,stop:b-this.baseTime,elapsed:b-c}),this.running[a]=null,delete this.running[a]},get:function(a){return a?this.completed[a]:this.completed},clear:function(){this.completed={},this.running={}}},n={init:function(a){this.events=[],this.baseTime=a.baseTime},capture:function(a){this.events.push({type:a,offset:f()-this.baseTime})},get:function(){return this.events},clear:function(){this.events=[]}};c.exports=e(i)})}(function(d,e){return"function"==typeof define&&define.amd?define:"object"==typeof b?function(d){d(a,c,b)}:function(a){var b={exports:{}},c=function(a){return e[a]};e[d]=a(c,b.exports,b)||b.exports}}("SpeedTrap",this))},{}],3:[function(a,b){"use strict";function c(){}function d(){if(document.currentScript)return document.currentScript;for(var a=document.scripts,b=0;b<a.length;++b){var c=a[b];if(c.src.indexOf("rum-diary-js-client.js")>-1)return c}}function e(a,b){if(!a)return null;var c=a.getAttribute(b);return c?f(c):c}function f(a){return a.replace(/^\s+|\s+$/g,"")}c.prototype={init:function(a){a=a||{},this.script=a.script||d()},getTags:function(){var a=e(this.script,"data-tags");if(!a)return[];for(var b=a.split(","),c=[],d=0;d<b.length;++d){var g=f(b[d]);g&&c.push(g)}return c},shouldLoad:function(){var a=e(this.script,"data-autoinit");return"false"===a?!1:!0},getLoadUrl:function(){var a=e(this.script,"data-load_url");return a?a:"https://rum-diary.org/metrics"},getUnloadUrl:function(){var a=e(this.script,"data-unload_url");return a?a:"https://rum-diary.org/metrics"}},b.exports=c},{}],4:[function(a,b){"use strict";function c(){}function d(){var a=this;setTimeout(function(){a.sendLoad()},100)}function e(){this.sendUnload()}function f(a,b,c){var d=this;d.micrajax.ajax({async:!c,type:"POST",url:b,contentType:"application/json",data:a})}function g(a,b){return function(){return a.apply(b,arguments)}}var h=a("../bower_components/micrajax/src/micrajax"),i=a("../bower_components/speed-trap/src/speed-trap"),j=a("./window-events");c.prototype={init:function(a){a=a||{};var b=this;b.loadUrl=a.loadUrl||"/metrics",b.unloadUrl=a.unloadUrl||"/metrics",b.micrajax=a.micrajax||h,b.windowEvents=a.windowEvents||new j,b.windowEvents.init({load:g(d,b),unload:g(e,b)}),b.speedTrap=a.speedTrap||i,b.speedTrap.init({tags:a.tags||[]})},getLoad:function(){return this.speedTrap.getLoad()},sendLoad:function(){var a=this.speedTrap.getLoad();f.call(this,a,this.loadUrl,!1)},getUnload:function(){return this.speedTrap.getUnload()},sendUnload:function(){var a=this.speedTrap.getUnload();f.call(this,a,this.unloadUrl,!0)},logEvent:function(a){this.speedTrap.events.capture(a)},startTimer:function(a){this.speedTrap.timers.start(a)},stopTimer:function(a){this.speedTrap.timers.stop(a)}},b.exports=c},{"../bower_components/micrajax/src/micrajax":1,"../bower_components/speed-trap/src/speed-trap":2,"./window-events":6}],5:[function(a,b,c){!function(a){a(function(a,b,c){"use strict";var d=a("./rum-diary-js-client"),e=a("./bootstrap");c.exports=d;var f=new e;if(f.init(),f.shouldLoad()){var g=new d;g.init({tags:f.getTags(),loadUrl:f.getLoadUrl(),unloadUrl:f.getUnloadUrl()}),c.exports.client=g}})}(function(d,e){return"function"==typeof define&&define.amd?define:"object"==typeof b?function(d){d(a,c,b)}:function(a){var b={exports:{}},c=function(a){return e[a]};e[d]=a(c,b.exports,b)||b.exports}}("RumDiaryJSClient",this))},{"./bootstrap":3,"./rum-diary-js-client":4}],6:[function(a,b){"use strict";function c(){}function d(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent&&a.attachEvent("on"+b,c)}c.prototype={init:function(a){for(var b in a)d(window,b,a[b])}},b.exports=c},{}]},{},[5]);